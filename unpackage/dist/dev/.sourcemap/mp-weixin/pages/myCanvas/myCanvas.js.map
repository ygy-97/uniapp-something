{"version":3,"sources":["uni-app:///pages/myCanvas/myCanvas.vue","uni-app:///main.js","webpack:///E:/uniapp/demo1/pages/myCanvas/myCanvas.vue?59ff","webpack:///E:/uniapp/demo1/pages/myCanvas/myCanvas.vue?8bc5","webpack:///E:/uniapp/demo1/pages/myCanvas/myCanvas.vue?4add","webpack:///E:/uniapp/demo1/pages/myCanvas/myCanvas.vue?6ec4"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;AAQA;AACA,MADA,kBACA;AACA;AACA,gBADA;;AAGA,GALA;AAMA,QANA,oBAMA;AACA;AACA;AACA,KAFA;AAGA,GAVA;AAWA;AACA;AACA,QAFA,kBAEA;;AAEA,KAJA;AAKA;AACA,aANA,uBAMA;AACA;AACA,qBADA,EACA;AACA;AACA;AACA;AACA;AACA,8BADA;AAEA,gCAFA;AAGA;AACA;AACA,aALA;;AAOA,SAZA;;AAcA;AACA,yBADA;AAEA,uBAFA;AAGA;AACA,uDADA;AAEA,wCAFA,SAEA,IAFA;AAGA;AACA;AACA,qBAFA,MAEA;AACA;AACA,qCADA;AAEA,sDAFA;AAGA,yCAHA;AAIA;AACA,+CADA;AAEA,yDAFA,SAEA,KAFA;AAGA;AACA;AACA,qCAFA,MAEA;AACA;AACA,qDADA;AAEA,2EAFA;AAGA,yDAHA;;AAKA,qCAXA,6IAJA;;;AAkBA,gDAlBA;;AAoBA,qBA1BA,6IAHA;;;AAgCA,YAhCA,gBAgCA,GAhCA,EAgCA;AACA;AACA,SAlCA;;AAoCA,KAzDA;;AA2DA;AACA,WA5DA,mBA4DA,QA5DA,EA4DA;AACA;AACA,0BADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA,uBADA;;AAGA,SANA;AAOA,YAPA,gBAOA,CAPA,EAOA;AACA;AACA,SATA;;AAWA,KAxEA;;AA0EA;AACA,cA3EA,wBA2EA;AACA;AACA;AACA,iBADA,mBACA,GADA,EACA;AACA;AACA,WAHA;AAIA,cAJA,kBAIA;AACA;AACA,WANA;;AAQA,OATA;AAUA,KAtFA;AAuFA;AACA,eAxFA,yBAwFA;AACA;AACA;AACA,iBADA,mBACA,GADA,EACA;AACA;AACA,WAHA;;AAKA,OANA;AAOA,KAhGA;;AAkGA,aAlGA,uBAkGA;AACA;AACA,qBADA;AAEA,sCAFA;AAGA,yBAHA;;AAKA,KAxGA,EAXA;;;AAsHA,SAtHA,qBAsHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GA1IA,E;;;;;;;;;;;;;kDCRA;AACA;AACA,qG;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;;;AAGvD;AACsM;AACtM,gBAAgB,6MAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAuwB,CAAgB,kxBAAG,EAAC,C","file":"pages/myCanvas/myCanvas.js","sourcesContent":["<template>\r\n\t<view>\r\n\t\t<canvas canvas-id=\"myCan\" style=\"width: 400rpx;height: 400rpx;\"></canvas>\r\n\t\t<button type=\"default\" size=\"mini\" @click=\"createPic\">生成+保存图片</button>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tnum: 'ygy'\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tuni.onAppHide(function(){\r\n\t\t\t\tconsole.log('hide')\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 画图\r\n\t\t\tdraw() {\r\n\r\n\t\t\t},\r\n\t\t\t// 生成图片\r\n\t\t\tcreatePic() {\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t    type: 'gcj02', //返回可以用于uni.openLocation的经纬度\r\n\t\t\t\t    success: function (res) {\r\n\t\t\t\t        const latitude = res.latitude;\r\n\t\t\t\t        const longitude = res.longitude;\r\n\t\t\t\t        uni.openLocation({\r\n\t\t\t\t            latitude: latitude,\r\n\t\t\t\t            longitude: longitude,\r\n\t\t\t\t            success: function () {\r\n\t\t\t\t                console.log('success');\r\n\t\t\t\t            }\r\n\t\t\t\t        });\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\tcanvasId: 'myCan',\r\n\t\t\t\t\tfileType: \"png\",\r\n\t\t\t\t\tsuccess: async (e) => {\r\n\t\t\t\t\t\tconsole.log(e.tempFilePath, 'xxx')\r\n\t\t\t\t\t\tlet flag = await this.getSetting();\r\n\t\t\t\t\t\tif (flag !== false) {\r\n\t\t\t\t\t\t\tthis.savePic(e.tempFilePath);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\t\t\t\tcontent: '你关闭了访问相册的权限，请前往设置授权',\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tsuccess: async res => {\r\n\t\t\t\t\t\t\t\t\tif(res.confirm){\r\n\t\t\t\t\t\t\t\t\t\tlet flag = await this.openSetting();\r\n\t\t\t\t\t\t\t\t\t\tif (flag) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.savePic(e.tempFilePath)\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '你关闭了访问相册的权限，无法保存，请允许访问相册',\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: () => {},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err, '生成图片失败')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 保存到本地\r\n\t\t\tsavePic(filePath) {\r\n\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '成功'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(e) {\r\n\t\t\t\t\t\tconsole.log(e, '保存图片失败')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 获取权限\r\n\t\t\tgetSetting() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.getSetting({\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tresolve(res.authSetting[\"scope.writePhotosAlbum\"])\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\treject(false)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 打开权限列表\r\n\t\t\topenSetting() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tresolve(res.authSetting[\"scope.writePhotosAlbum\"])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tshowModal() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\tcontent: '你关闭了访问相册的权限，请前往设置授权',\r\n\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tvar context = uni.createCanvasContext('myCan');\r\n\t\t\tcontext.setStrokeStyle(\"#00ff00\")\r\n\t\t\tcontext.setLineWidth(5)\r\n\t\t\tcontext.rect(0, 0, 200, 200)\r\n\t\t\tcontext.stroke();\r\n\t\t\tcontext.setStrokeStyle(\"#ff0000\")\r\n\t\t\tcontext.setLineWidth(2)\r\n\t\t\tcontext.moveTo(160, 100)\r\n\t\t\tcontext.arc(100, 100, 60, 0, 2 * Math.PI, true)\r\n\t\t\tcontext.moveTo(140, 100)\r\n\t\t\tcontext.arc(100, 100, 40, 0, Math.PI, false)\r\n\t\t\tcontext.moveTo(85, 80)\r\n\t\t\tcontext.arc(80, 80, 5, 0, 2 * Math.PI, true)\r\n\t\t\tcontext.moveTo(125, 80)\r\n\t\t\tcontext.arc(120, 80, 5, 0, 2 * Math.PI, true)\r\n\t\t\tcontext.stroke()\r\n\t\t\tcontext.drawImage('../../static/img/datapic/1.jpg', 10, 10, 40, 40);\r\n\t\t\tcontext.draw();\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\n","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/myCanvas/myCanvas.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./myCanvas.vue?vue&type=template&id=09673f06&\"\nvar renderjs\nimport script from \"./myCanvas.vue?vue&type=script&lang=js&\"\nexport * from \"./myCanvas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/myCanvas/myCanvas.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myCanvas.vue?vue&type=template&id=09673f06&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myCanvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myCanvas.vue?vue&type=script&lang=js&\""],"sourceRoot":""}